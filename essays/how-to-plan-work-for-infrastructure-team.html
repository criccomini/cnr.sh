<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="date" content='2022-06-13'>
<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>
<meta property="og:type" content="website" />
<meta property="og:title" content="How to Plan Work for an
Infrastructure Team" />
<meta property="og:description" content="Infrastructure teams have
several traits that make project planning difficult." />
<meta property="og:image" content="https://cnr.sh/img/og-img.png" /><link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üí¨</text></svg>">
<link rel="alternate" type="application/rss+xml" href="https://cnr.sh/rss.xml" title="Chris Riccomini's RSS Feed"><title>How
to Plan Work for an Infrastructure Team | Chris Riccomini</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Roboto+Condensed:wght@700&display=swap');
body {padding: 1.25rem 0em; margin: 0em; font-family: 'Lora', serif; font-size: 14pt; line-height: 1.75;}
h1, h2, h3, h4 {font-family: 'Roboto Condensed', sans-serif; margin: 0em; line-height: 1.25;}
h1 {font-size: 30pt;}
a {color: #ff0080; text-decoration: none; font-weight: bold;}
pre > code {overflow-x: auto; width: 100%; display: inline-block;}
div.home {position: fixed; font-size: 15pt; padding: .5em; line-height: 0em; background-color: #333;}
div.social {position: fixed; font-size: 15pt; padding: .5em; line-height: 0em; right: 1.5em;}
div.title {text-align: center;}
div.main {width: 32em; margin: 0em auto;}
div.intro {width: 30em; margin: 0em auto;}
div.article:first-letter {float: left; margin: .125em .25em; font-size: 4em; line-height: 1;}
div.links {width: 40em; margin: 0em auto;}
div.links table {border-spacing: 0em 0em; margin: 1em 0em;}
div.links td.link-date {text-align: right; width: 10em; padding-right: .5em; vertical-align: top;}
div.links span.link-date {display: none;}
i.social {color: #ccc;}
i.home {color: white;}
div.intro p:first-of-type {font-size: 22pt;}
div.article p:first-of-type {font-size: 18pt;}
div.article blockquote > p:first-of-type {font-size: 14pt;}
div.article img {width: 100%;}
div.promo {margin: 0rem auto 1.25rem auto; width: 50rem; font-family: helvetica; text-align: center; top: 0px; left: 0px; background-color: black; color: white; font-size: .925rem; letter-spacing: .075rem; padding: .5em;}
@media screen and (min-width : 0px) and (max-width : 767px){
body {padding: 0em;}
div.main {width: auto; padding: 4em 2em;}
div.intro {width: auto; padding: 0em 3em;}
div.home {position: absolute;}
div.social {display: none;}
span.by {display: block; margin-top: .5em;}
div.links {padding-top: 1em; width: auto; padding: 4em 2em;}
div.links td.link-date {display: none;}
div.links span.link-date {display: block;}
div.links table {border-spacing: 0em 1em; margin: 0em;}
div.promo {width: auto; padding: 1rem 4rem; }
}</style>
<script defer src="https://kit.fontawesome.com/72c21ff1f4.js" crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3R91BN0RW0"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-3R91BN0RW0');
</script></head>
<body>
<div class="home">
<a href="/"><i class="home fas fa-home"></i></a>
</div>
<div class="social">
<a href="https://twitter.com/criccomini"><i class="social fab fa-twitter"></i></a>
</div><div class="main">
<div class="title">
<h1>How to Plan Work for an Infrastructure Team</h1>
<span class="by">Chris Riccomini on June 13, 2022</span>
</div>
<div class="article">
<p>Infrastructure teams have several traits that make project planning
difficult.</p>
<p>Infrastructure teams are less likely to have product managers to help
with planning. Infrastructure engineering managers left to do
prioritization, requirements gathering, and quarterly/yearly planning on
their own. Managers might not know how to do this.</p>
<p>Infrastructure teams also sit directly next to their customers‚Äìa
double edged sword. Teams are able to gather feedback rapidly and have
close daily contact with their users (the other engineers in the
company). But infrastructure teams are so easy to access that they are
interrupted frequently. Imagine if customers could walk directly to an
application engineer and demand a product change. Infrastructure
engineers live this experience. Managing these interruptions is
challenging.</p>
<p>Despite close contact to their customers, infrastructure teams are
often disconnected from product planning itself. Upstream teams don‚Äôt
remember to inform infrastructure teams that their new feature depends
on infrastructure teams until it‚Äôs too late. Engineers are left
scrambling and frustrated.</p>
<p>A few years ago, an infrastructure team at WePay was having trouble
planning their work. The team was handling constant interrupts‚Äìboth
operational issues and urgent requests‚Äìfrom other teams. The manager
threw up their hands and declared it impossible to reliably plan and
deliver projects of their own; the team was purely reactive.</p>
<p>At the time, I was running WePay‚Äôs data infrastructure team. I heard
the manager‚Äôs frustration, and shared some of the practices I‚Äôd found
helpful in planning for my own team.</p>
<p>The rest of this post is the (edited) email that I sent the manager.
Everything here can (and should) be adjusted, but the structure
presented below is a reasonable starting point. If it resonates with you
and you want more, I highly recommend <a
href="https://lethain.com/">Will Larson</a>‚Äôs book, <a
href="https://www.amazon.com/dp/B07QYCHJ7V"><em>An Elegant
Puzzle</em></a>.</p>
<p><em>Context: My data infrastructure team was about 6 people
(including 2 site reliability engineers (SREs)) at the time. Total
company size was probably 300 people or so. We were using JIRA as our
ticketing system and a loose Agile/Scrum planning methodology. We had
2-week sprints and both quarterly and yearly planning.</em></p>
<hr />
<p>Going to share how I run data infrastructure (DI). Goal is to:</p>
<ol type="1">
<li>Clarify how DI runs. Mostly just FYI.</li>
<li>Give (the team manager) some thoughts on how he might get INFRA
planning working properly.</li>
</ol>
<p>I have iterated on this for about a year. I‚Äôm not done yet (never
will be), but feel like we‚Äôve hit a very good spot. My Q1 planned
vs.¬†executed was very good.</p>
<p>Some things I‚Äôm doing. Hope it‚Äôs useful. Take it or leave it.</p>
<h2 id="axioms">Axioms</h2>
<ul>
<li>Plan to 80% capacity, not 100%. See my epiphany <a
href="https://twitter.com/criccomini/status/1242629436685475840">here</a>.</li>
<li>Fill out story point estimates for all non-support JIRAs. No
exceptions. This is what lets you plan‚Äìlooking backwards to see these
numbers.</li>
</ul>
<h2 id="sprint-planning">Sprint Planning</h2>
<ul>
<li>1 point = a single 4 hour work day.</li>
<li>Fibonacci numbers only (1, 2, 3, 5, 8, 13) for story point values.
Should really never get beyond 8. Even then, 8 is high‚Äìwe only use this
for spikes, really.</li>
<li>Most tickets are 3 or 5 points. Even when they seem like 1 or 2,
they never are.</li>
<li>Assign 8 points per-sprint per-person. Adjust periodically based on
JIRA sprint reports‚Äìthey tell you completion % and whatnot.</li>
<li>On-call gets no tickets assigned for the sprint.</li>
</ul>
<h2 id="quarterly-planning">Quarterly Planning</h2>
<ul>
<li>Plan at 80% capacity. There, I said it again. You can adjust the
%‚Äìmaybe it‚Äôs 70, or even 60 for you. Start with 80. This will let you
absorb surprises.</li>
<li>Formula for calculating capacity for your team here (<em>see the
table at the end</em>). It includes subtracting a) on-call b) vacations
c) 20% capacity.</li>
<li>I have a ‚Äúrun the business‚Äù (RTB) epic. I leave the epic empty (or
nearly so). I calculate sprints for it based on the prior quarter.
(e.g.¬†if I had 6 sprints of tickets done in Q1, then I allocate 6 for
Q2).</li>
<li>RTB epic is <em>NOT</em> on-call support. This is busted stuff that
<em>your team finds</em> and wants to fix throughout the quarter.
SOMETIMES an on-call request will result in such a discovery, but it‚Äôs
RARE. See example here (<em>link to internal JIRA</em>).</li>
<li>I have a ‚ÄúSpikes for Q(n+1)‚Äù epic. This contains SPIKE JIRAs for any
work that needs to be done next quarter. The expected output of these
JIRAs is: a) a design doc b) JIRAs for all the work to be done in Q(n+1)
sorted in execution order in the JIRA backlog. See example here
(<em>link to internal doc</em>).</li>
</ul>
<h2 id="yearly-planning">Yearly Planning</h2>
<ul>
<li>I plan 4-6 quarters ahead. See this sheet for what I‚Äôm doing here
(<em>link to internal doc</em>).</li>
<li>Obviously, I can‚Äôt predict what others will ask of me. I know what I
want to do, though. I act as the PM for the team. I decide priorities.
People come to me, and ask for stuff. I work with them to understand
what needs to be done, and decide when we‚Äôre going to do it. Try to be
pragmatic.</li>
<li>I have divided work into projects. Projects span multiple quarters.
Every quarter has one or more epics with a lead engineer assigned. In
some cases, I add a secondary.</li>
</ul>
<h2 id="on-call">On-call</h2>
<ul>
<li>We have two on-calls: an SRE and a developer. This is a third of our
team. You should consider having two SRE on calls since you‚Äôre all SREs.
This might be half your team. If this is what it takes, so be it. Don‚Äôt
lie to yourself (and everyone else), and then miss all your goals.</li>
<li>SRE on-call handles operational issues.</li>
<li>Developer on-call handles random developer questions, support, and
bug reports. They‚Äôre also available to help SRE with prod operational
issues.</li>
<li>All alerts must go through Pager Duty. No direct email alerts. No
direct Slack alerts. No exceptions. Alerts escalate from SRE -&gt; dev
-&gt; me (if they‚Äôre important).</li>
<li>We use our JIRA support email extensively (<em>an internal support
email alias that auto-creates JIRA tickets when emailed</em>). This is
where all support tasks (dev on call work) come from. We force people to
use it. They do. Again, useful for tracking purposes. Be obsessive.
Story points are not required for support tasks‚Äìthere‚Äôs such volume that
we just do raw JIRA count as the metric.</li>
</ul>
<p>One final note: I reject your premise that you can‚Äôt estimate or plan
for surprises. (<em>The engineering manager had this comment on
Slack.</em>) I have several devices to manage this:</p>
<ol type="a">
<li>80% capacity</li>
<li>empty RTB at the start of each quarter</li>
<li>two people on-call</li>
<li>yearly planning</li>
</ol>
<p>Cheers,<br />
Chris</p>
<p>P.S. Here‚Äôs how I calculated the team‚Äôs capacity this quarter.</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Inputs:</strong></td>
<td></td>
</tr>
<tr class="even">
<td>Sprints in Q2</td>
<td>6</td>
</tr>
<tr class="odd">
<td>Devs</td>
<td>4</td>
</tr>
<tr class="even">
<td>SREs</td>
<td>2</td>
</tr>
<tr class="odd">
<td>Dev holiday (sprints)</td>
<td>2</td>
</tr>
<tr class="even">
<td>Dev on-call (sprints)</td>
<td>6</td>
</tr>
<tr class="odd">
<td>SRE holiday (sprints)</td>
<td>1</td>
</tr>
<tr class="even">
<td>SRE on-call (sprints)</td>
<td>6</td>
</tr>
<tr class="odd">
<td><strong>Calculation:</strong></td>
<td></td>
</tr>
<tr class="even">
<td>Dev capacity (sprints)</td>
<td>16 = <em>4 devs * 6 sprints - 6 on-call sprints - 2 holiday
sprints</em></td>
</tr>
<tr class="odd">
<td>SRE capacity (sprints)</td>
<td>5 = <em>2 SREs * 6 sprints - 6 on-call sprints - 1 holiday
sprint</em></td>
</tr>
<tr class="even">
<td>80% dev capacity</td>
<td>12 = <em>16 dev sprints * .8</em></td>
</tr>
<tr class="odd">
<td>80% SRE capacity</td>
<td>4 = <em>5 SRE sprints * .8</em></td>
</tr>
<tr class="even">
<td><strong>Final dev capacity</strong></td>
<td>12 sprints</td>
</tr>
<tr class="odd">
<td><strong>Final SRE capacity</strong></td>
<td>4 sprints</td>
</tr>
</tbody>
</table>
</div>
<form style="background-color: #eee; padding:1em; text-align:center;" action="https://tinyletter.com/criccomini" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/criccomini', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
<h1><label for="tlemail">Never Miss a Post</label></h1>
<span class="by">Subscribe to my newsletter!</span>
<p style="margin-bottom: .35em;">
<input type="text" style="width:140px" name="email" id="tlemail" placeholder="your@email.com" />
<input type="hidden" value="1" name="embed"/><input type="submit" value="Subscribe" />
</p>
</form></div>
</body>
</html>
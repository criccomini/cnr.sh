<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><base href=/><title>How to Plan Work for an Infrastructure Team | cnr.sh</title><link href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’¬</text></svg>" rel=icon><link title="Chris Riccomini's RSS Feed" href=/rss.xml rel=alternate type=application/rss+xml><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=block" rel=stylesheet><link href=/css/style.css rel=stylesheet><link href=/css/pygments.css rel=stylesheet><meta content=summary name=twitter:card><meta content="How to Plan Work for an Infrastructure Team | cnr.sh" name=twitter:title><meta content="How to Plan Work for an Infrastructure Team | cnr.sh" property=og:title><meta content=website property=og:type><meta content="Building tooling and systems for other engineers at a company can be tough. Project planning, in particular, presents a challenge. Infrastructure teams have several unique traits that hinder ..." name=twitter:description><meta content="Building tooling and systems for other engineers at a company can be tough. Project planning, in particular, presents a challenge. Infrastructure teams have several unique traits that hinder ..." property=og:description><body><header><h1><a href=/>cnr.sh</a></h1><nav><ul><li><a href=/talks>Talks</a><li><a href=/404>Oops!</a><li><a href=/essays>Index</a></ul></nav></header><main><p>Building tooling and systems for other engineers at a company can be tough. Project planning, in particular, presents a challenge. Infrastructure teams have several unique traits that hinder predictable planning.<p>Infrastructure teams are less likely to have product managers to help with planning. Infrastructure engineering managers are left to do prioritization, requirements gathering, and quarterly/yearly planning on their own. Managers don't always know how to do this effectively.<p>Such teams also sit directly next to their customers (or at least they used to before the pandemic). Close proximity to the customer is a double edged sword. Teams are able to gather feedback rapidly and have close daily contact with their users (the other engineers in the company).<p>But infrastructure teams are so easy to access that they are interrupted frequently. Imagine if customers could walk directly up to an application engineer and demand a product change. Infrastructure engineers live this experience. Managing these interruptions is challenging.<p>Despite close customer contact, infrastructure teams are often disconnected from product planning itself. Other teams don't inform the infrastructure team that a new feature depends on the infrastructure teams until it's too late. Engineers are left scrambling and frustrated.<p>A few years ago, an infrastructure team at WePay was having trouble planning their work. The team was handling constant interrupts--both operational issues and urgent requests--from other teams. The manager threw up their hands and declared it impossible to reliably plan and deliver projects of their own; the team was purely reactive.<p>At the time, I was running WePay's data infrastructure team. I heard the manager's frustration, and shared some of the practices I'd found helpful in planning for my own team.<p>The rest of this post is the (edited) email that I sent the manager. Everything here can (and should) be adjusted, but the structure presented below is a reasonable starting point. If it resonates with you and you want more, I highly recommend <a href=https://lethain.com/>Will Larson</a>'s book, <a href=https://www.amazon.com/dp/B07QYCHJ7V><em>An Elegant Puzzle</em></a>.<p><em>Context: My data infrastructure team was about 6 people (including 2 site reliability engineers (SREs)). The company had roughly 300 people. We were using JIRA as our ticketing system and a loose Agile/Scrum planning methodology. We had 2-week sprints and both quarterly and yearly planning.</em><hr><p>Going to share how I run data infrastructure (DI). Goal is to:<ol><li>Clarify how DI runs. Mostly just FYI.<li>Give (the team manager) some thoughts on how he might get INFRA planning working properly.</ol><p>I have iterated on this for about a year. I'm not done yet (never will be), but feel like we've hit a very good spot. My Q1 planned vs. executed was very good.<p>Some things I'm doing. Hope it's useful. Take it or leave it.<h2>Axioms</h2><ul><li>Plan to 80% capacity, not 100%. See my epiphany <a href=https://twitter.com/criccomini/status/1242629436685475840>here</a>.<li>Fill out story point estimates for all non-support JIRAs. No exceptions. This is what lets you plan--looking backwards to see these numbers.</ul><h2>Sprint Planning</h2><ul><li>1 point = a single 4 hour work day.<li>Fibonacci numbers only (1, 2, 3, 5, 8, 13) for story point values. Should really never get beyond 8. Even then, 8 is high--we only use this for spikes, really.<li>Most tickets are 3 or 5 points. Even when they seem like 1 or 2, they never are.<li>Assign 8 points per-sprint per-person. Adjust periodically based on JIRA sprint reports--they tell you completion % and whatnot.<li>On-call gets no tickets assigned for the sprint.</ul><h2>Quarterly Planning</h2><ul><li>Plan at 80% capacity. There, I said it again. You can adjust the %--maybe it's 70, or even 60 for you. Start with 80. This will let you absorb surprises.<li>Formula for calculating capacity for your team here (<em>see the table at the end</em>). It includes subtracting a) on-call b) vacations c) 20% capacity.<li>I have a "run the business" (RTB) epic. I leave the epic empty (or nearly so). I calculate sprints for it based on the prior quarter. (e.g. if I had 6 sprints of tickets done in Q1, then I allocate 6 for Q2).<li>RTB epic is <em>NOT</em> on-call support. This is busted stuff that <em>your team finds</em> and wants to fix throughout the quarter. SOMETIMES an on-call request will result in such a discovery, but it's RARE. See example here (<em>link to internal JIRA</em>).<li>I have a "Spikes for Q(n+1)" epic. This contains SPIKE JIRAs for any work that needs to be done next quarter. The expected output of these JIRAs is: a) a design doc b) JIRAs for all the work to be done in Q(n+1) sorted in execution order in the JIRA backlog. See example here (<em>link to internal doc</em>).</ul><h2>Yearly Planning</h2><ul><li>I plan 4-6 quarters ahead. See this sheet for what I'm doing here (<em>link to internal doc</em>).<li>Obviously, I can't predict what others will ask of me. I know what I want to do, though. I act as the PM for the team. I decide priorities. People come to me, and ask for stuff. I work with them to understand what needs to be done, and decide when we're going to do it. Try to be pragmatic.<li>I have divided work into projects. Projects span multiple quarters. Every quarter has one or more epics with a lead engineer assigned. In some cases, I add a secondary.</ul><h2>On-call</h2><ul><li>We have two on-calls: an SRE and a developer. This is a third of our team. You should consider having two SRE on calls since you're all SREs. This might be half your team. If this is what it takes, so be it. Don't lie to yourself (and everyone else), and then miss all your goals.<li>SRE on-call handles operational issues.<li>Developer on-call handles random developer questions, support, and bug reports. They're also available to help SRE with prod operational issues.<li>All alerts must go through Pager Duty. No direct email alerts. No direct Slack alerts. No exceptions. Alerts escalate from SRE -> dev -> me (if they're important).<li>We use our JIRA support email extensively (<em>an internal support email alias that auto-creates JIRA tickets when emailed</em>). This is where all support tasks (dev on call work) come from. We force people to use it. They do. Again, useful for tracking purposes. Be obsessive. Story points are not required for support tasks--there's such volume that we just do raw JIRA count as the metric.</ul><p>One final note: I reject your premise that you can't estimate or plan for surprises. (<em>The engineering manager had this comment on Slack.</em>) I have several devices to manage this:<p>a. 80% capacity b. empty RTB at the start of each quarter c. two people on-call d. yearly planning<p>Cheers,<br> Chris<p>P.S. Here's how I calculated the team's capacity this quarter.<table><thead><tr><th><th><tbody><tr><td><strong>Inputs:</strong><td><tr><td>Sprints in Q2<td>6<tr><td>Devs<td>4<tr><td>SREs<td>2<tr><td>Dev holiday (sprints)<td>2<tr><td>Dev on-call (sprints)<td>6<tr><td>SRE holiday (sprints)<td>1<tr><td>SRE on-call (sprints)<td>6<tr><td><strong>Calculation:</strong><td><tr><td>Dev capacity (sprints)<td>16 = <em>4 devs * 6 sprints - 6 on-call sprints - 2 holiday sprints</em><tr><td>SRE capacity (sprints)<td>5 = <em>2 SREs * 6 sprints - 6 on-call sprints - 1 holiday sprint</em><tr><td>80% dev capacity<td>12 = <em>16 dev sprints * .8</em><tr><td>80% SRE capacity<td>4 = <em>5 SRE sprints * .8</em><tr><td><strong>Final dev capacity</strong><td>12 sprints<tr><td><strong>Final SRE capacity</strong><td>4 sprints</table></main>